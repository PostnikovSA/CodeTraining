/*
SkillBox. Lesson 5.4. Понятие рекурсивной функции.

Author: Сергей Камянецкий.

Task: Create a visualization of a sequence of Fibonacci numbers.

Задача: Создать визуализацию последовательности чисел Фиббоначчи.
*/

using System;
class Program 
{
    static int Count()
    {
        int Count;
        while (true)
        {
            Console.Write($"Enter only whole numbers in the range from 1 to 30: ");
            bool b_Count = int.TryParse(Console.ReadLine(), out Count);
            if ((b_Count == false)||(Count < 1)||(Count > 30)) Console.WriteLine($"Error. Enter only whole numbers in the range from 1 to 30\n");
            else break;
        }
        return Count;
    }
    
    static void FibonacciNumberSequence(int Count)
    {
        int FirstValue = 1;
        int SecondValue = 1;
        int Result = FirstValue + SecondValue;
        
        Console.Write($"{FirstValue} {SecondValue} {Result} ");
        
        for (int i = 0; i <= Count; i++)
        {
            FirstValue = SecondValue;
            SecondValue = Result;
            Result = FirstValue + SecondValue;
            Console.Write($"{Result} ");
        }
    }
    
    static void Main() 
    {
        FibonacciNumberSequence(Count());
    }
}
